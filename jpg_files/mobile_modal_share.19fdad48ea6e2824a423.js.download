(()=>{var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),("undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"37c936e1e1372ce68eec27a8653bcebac06d7e55"},(()=>{"use strict";function t(t){this.config=t,this.shareTracker=new slideshare_object.ShareTracker,this.init()}t.prototype={},t.prototype.IOS4REGEX=/["iPhone"|"iPad"].+i?OS [4|3].+Safari/,t.prototype.isIpadAndChrome=function(){return/ipad.*crios|crios.*ipad|ipad.*chrome|chrome.*ipad/i.test(navigator.userAgent)},t.prototype.init=function(){this.$modalShare=$(this.config.el),this.$overlay=this.$modalShare.find(".share-overlay"),this.$shareList=this.$modalShare.find(".mobile-share-list"),this.$linkShare=this.$modalShare.find(".link-share"),this.gaCategory=this.$modalShare.data("ga"),this.bindModalEvents(),this.bindModalToShareBtns(),this.populateShareLinks(),this.applyAppropriateOrientationCSS()},t.prototype.getDeviceOrientation=function(){return window.orientation?0===window.orientation?"portrait":"landscape":(window.innerWidth||screen.width)>(window.innerHeight||screen.height)?"landscape":"portrait"},t.prototype.open=function(){this.gaTracking("open"),this.$modalShare.fadeIn(),$("body").addClass("no_scroll")},t.prototype.close=function(){this.gaTracking("close"),this.$modalShare.fadeOut(),$("body").removeClass("no_scroll")},t.prototype.populateShareLinks=function(){this.isIpadAndChrome()||$.each(this.$shareList.find("li > a"),(function(){$(this).attr("href",$(this).data("url"))}))},t.prototype.gaTracking=function(t,i){i&&(t="mobile_"+t,(window._gaq||[]).push(["_trackEvent",this.gaCategory,t,i]))},t.prototype.viralshareTracking=function(t,i){t&&i&&$.get("account/get_form_authenticity_token").done((function(a){$.post("/share/viralshare",{data:{id:t,network:i},authenticity_token:a.auth_token})}))},t.prototype.repositionShareModal=function(){this.$overlay.css("position","static")},t.prototype.applyAppropriateOrientationCSS=function(){this.orientation=this.getDeviceOrientation(),"portrait"===this.orientation?this.$modalShare.removeClass("landscape"):this.$modalShare.addClass("landscape")},t.prototype.trackShareEvent=function(t){var i=t||{},a=i.isEmbed||!1,e=i.entityAuthorId&&window.slideshare_object.user&&i.entityAuthorId===window.slideshare_object.user.id||!1;this.shareTracker.shareSlideShow({entityId:i.entityId,shareType:i.shareType,isOwner:e,isEmbed:a})},t.prototype.bindModalEvents=function(){var t=this;this.$shareList.on("click","li",(function(){t.gaTracking("social",$(this).data("ga")),t.trackShareEvent({entityId:t.data.ssId,shareType:$(this).data("ga"),entityAuthorId:t.data.authorId,isEmbed:!1})})),window.slideshare_mobile_object&&t.$shareList.data("slideshow-id",window.slideshare_mobile_object.slideshow.slideshowId),this.$shareList.on("click","[data-network]",(function(){t.viralshareTracking(t.$shareList.data("slideshow-id"),$(this).data("network"))})),"undefined"==typeof $mainNav&&this.isIpadAndChrome()&&this.$shareList.on("click","a",(function(){window.open($(this).data("url"),"_blank")})),this.$modalShare.find(".btn, .share-overlay, .j-close").click((function(){t.close()})),$(window).on("resize orientationchange",(function(){t.applyAppropriateOrientationCSS()}))},t.prototype.bindModalToShareBtns=function(){var t=this;$(this.config.parentEl).on("click",this.config.shareBtn,(function(){var i,a=$(this).closest(".iso_slideshow"),e=a.length?a:$(".mobile-swipe-wrapper").find(".player"),s=e.data("slideshowid");if(s&&(i={ssId:e.data("slideshowid"),authorId:e.data("slideshowauthorid"),ssLink:e.data("sslink"),social:{linkedin:e.data("linkedinshareurl"),facebook:e.data("facebookshareurl"),twitter:e.data("twittershareurl"),sms:e.data("smsshareurl"),whatsapp:e.data("whatsappshareurl"),email:e.data("emailshareurl"),pinterest:e.data("pinterestshareurl")}},t.data=i),s){var r=i.social.linkedin,o=i.social.facebook,n=i.social.twitter,h=i.social.email,d=i.social.sms,l=i.social.whatsapp,c=i.social.pinterest;t.$linkShare.attr("href",i.ssLink),t.$linkShare.html(i.ssLink),t.$shareList.find(".li-share-btn > a").attr("href",r),t.$shareList.find(".fb-share-btn > a").attr("href",o),t.$shareList.find(".tw-share-btn > a").attr("href",n),t.$shareList.find(".whatsapp-share-btn > a").attr("href",l),t.$shareList.find(".email-share-btn > a").attr("href",h),t.$shareList.find(".sms-share-btn > a").attr("href",d),t.$shareList.find(".pinterest-share-btn > a").attr("href",c),t.$shareList.data("slideshow-id",s),t.open()}}))}})()})();
//# sourceMappingURL=mobile_modal_share.19fdad48ea6e2824a423.js.map